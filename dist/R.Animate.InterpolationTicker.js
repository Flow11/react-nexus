"use strict";

var _classProps = function (child, staticProps, instanceProps) {
  if (staticProps) Object.defineProperties(child, staticProps);
  if (instanceProps) Object.defineProperties(child.prototype, instanceProps);
};

require("6to5/polyfill");
var Promise = require("bluebird");
module.exports = function (R) {
  var _ = R._;
  var should = R.should;
  var raf = require("raf");

  var InterpolationTicker = (function () {
    var InterpolationTicker = function InterpolationTicker() {
      var _this = this;
      _.dev(function () {
        return params.should.be.an.Object;
      });
      _.defaults(params, {
        easing: "cubic-in-out",
        onTick: _.noop,
        onComplete: _.noop,
        onAbort: _.noop });

      _.dev(function () {
        return params.from.should.be.an.Object && params.to.should.be.an.Object && params.duration.should.be.a.Number && (_.isPlainObject(params.easing) || _.isString(params.easing)).should.be.ok && params.onTick.should.be.a.Function && params.onComplete.should.be.a.Function && params.onAbort.should.be.a.Function;
      });

      this._from = params.from;
      this._to = params.to;

      Object.keys(this._from).forEach(function (attr) {
        return _.has(_this._to, attr) ? _this._to[attr] = _this._from[attr] : void 0;
      });
      Object.keys(this._to).forEach(function (attr) {
        return _.has(_this._from, attr) ? _this._from[attr] = _this._to[attr] : void 0;
      });

      if (_.isPlainObject(params.easing)) {
        _.dev(function () {
          return params.easing.type.should.be.a.String && params.easing.params.should.be.an.Object;
        });
        this._easing = R.Animate.createEasing(params.easing.type, params.easing.params);
      } else {
        this._easing = R.Animate.createEasing(params.easing);
      }
      this._duration = params.duration;
      this._onTick = params.onTick;
      this._onComplete = params.onComplete;
      this._onAbort = params.onAbort;
      this._interpolators = _.mapValues(this._from, function (fromVal, attr) {
        return R.Animate.createInterpolator(fromVal, _this._to[attr]);
      });
      this._tick = R.scope(this._tick, this);
    };

    _classProps(InterpolationTicker, null, {
      start: {
        writable: true,
        value: function () {
          var _this2 = this;
          _.dev(function () {
            return (_this2._begin === null).should.be.ok;
          });
          this._begin = Date.now();
          this._end = this._begin + this._duration;
          this._requestAnimationFrameHandle = raf(this._tick);
        }
      },
      _tick: {
        writable: true,
        value: function () {
          var _this3 = this;
          var now = Date.now();
          if (now > this._end) {
            this._onTick(this._to, t);
            this._onComplete();
          } else {
            (function () {
              var t = (now - _this3._begin) / (_this3._end - _this3._begin);
              _this3._onTick(_.mapValues(_this3._interpolators, function (interpolator) {
                return interpolator(_this3._easing(t));
              }, t));
              _this3._requestAnimationFrameHandle = raf(_this3._tick);
            })();
          }
        }
      },
      abort: {
        writable: true,
        value: function () {
          if (this._requestAnimationFrameHandle) {
            raf.cancel(this._requestAnimationFrameHandle);
            this._requestAnimationFrameHandle = null;
          }
        }
      }
    });

    return InterpolationTicker;
  })();

  _.extend(InterpolationTicker.prototype, /** @lends R.Animate.InterpolationTicker.prototype */{
    _from: null,
    _to: null,
    _easing: null,
    _duration: null,
    _onTick: null,
    _onComplete: null,
    _onAbort: null,
    _requestAnimationFrameHandle: null,
    _begin: null,
    _end: null,
    _interpolators: null });

  return InterpolationTicker;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImc6L3JlYWN0LW5leHVzL3JlYWN0LXJhaWxzL3NyYy9SLkFuaW1hdGUuSW50ZXJwb2xhdGlvblRpY2tlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3pCLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNwQyxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVMsQ0FBQyxFQUFFO0FBQzNCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDZCxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ3hCLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQzs7TUFFckIsbUJBQW1CO1FBQW5CLG1CQUFtQixHQUNaLFNBRFAsbUJBQW1CLEdBQ1Q7O0FBQ1osT0FBQyxDQUFDLEdBQUcsQ0FBQztlQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNO09BQUEsQ0FBQyxDQUFDO0FBQ3hDLE9BQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQ2pCLGNBQU0sRUFBRSxjQUFjO0FBQ3RCLGNBQU0sRUFBRSxDQUFDLENBQUMsSUFBSTtBQUNkLGtCQUFVLEVBQUUsQ0FBQyxDQUFDLElBQUk7QUFDbEIsZUFBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQ2hCLENBQUMsQ0FBQzs7QUFFSCxPQUFDLENBQUMsR0FBRyxDQUFDO2VBQ0osTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLElBQy9CLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxJQUM3QixNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFDbEMsQ0FBQyxDQUFDLENBQUMs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SSxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQztXQUMxQztTQUNGOzs7O1dBdEVHLG1CQUFtQjs7O0FBeUV6QixHQUFDLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsdURBQXdEO0FBQzVGLFNBQUssRUFBRSxJQUFJO0FBQ1gsT0FBRyxFQUFFLElBQUk7QUFDVCxXQUFPLEVBQUUsSUFBSTtBQUNiLGFBQVMsRUFBRSxJQUFJO0FBQ2YsV0FBTyxFQUFFLElBQUk7QUFDYixlQUFXLEVBQUUsSUFBSTtBQUNqQixZQUFRLEVBQUUsSUFBSTtBQUNkLGdDQUE0QixFQUFFLElBQUk7QUFDbEMsVUFBTSxFQUFFLElBQUk7QUFDWixRQUFJLEVBQUUsSUFBSTtBQUNWLGtCQUFjLEVBQUUsSUFBSSxFQUNyQixDQUFDLENBQUM7O0FBRUgsU0FBTyxtQkFBbUIsQ0FBQztDQUM1QixDQUFDIiwiZmlsZSI6IlIuQW5pbWF0ZS5JbnRlcnBvbGF0aW9uVGlja2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnNnRvNS9wb2x5ZmlsbCcpO1xuY29uc3QgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFIpIHtcclxuICBjb25zdCBfID0gUi5fO1xyXG4gIGNvbnN0IHNob3VsZCA9IFIuc2hvdWxkO1xyXG4gIGNvbnN0IHJhZiA9IHJlcXVpcmUoJ3JhZicpO1xyXG5cclxuICBjbGFzcyBJbnRlcnBvbGF0aW9uVGlja2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICBfLmRldigoKSA9PiBwYXJhbXMuc2hvdWxkLmJlLmFuLk9iamVjdCk7XHJcbiAgICAgIF8uZGVmYXVsdHMocGFyYW1zLCB7XHJcbiAgICAgICAgZWFzaW5nOiAnY3ViaWMtaW4tb3V0JyxcclxuICAgICAgICBvblRpY2s6IF8ubm9vcCxcclxuICAgICAgICBvbkNvbXBsZXRlOiBfLm5vb3AsXHJcbiAgICAgICAgb25BYm9ydDogXy5ub29wLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIF8uZGV2KCgpID0+XHJcbiAgICAgICAgcGFyYW1zLmZyb20uc2hvdWxkLmJlLmFuLk9iamVjdCAmJlxyXG4gICAgICAgIHBhcmFtcy50by5zaG91bGQuYmUuYW4uT2JqZWN0ICYmXHJcbiAgICAgICAgcGFyYW1zLmR1cmF0aW9uLnNob3VsZC5iZS5hLk51bWJlciAmJlxyXG4gICAgICAgIChfLmlzUGxhaW5PYmplY3QocGFyYW1zLmVhc2luZykgfHwgXy5pc1N0cmluZyhwYXJhbXMuZWFzaW5nKSkuc2hvdWxkLmJlLm9rICYmXHJcbiAgICAgICAgcGFyYW1zLm9uVGljay5zaG91bGQuYmUuYS5GdW5jdGlvbiAmJlxyXG4gICAgICAgIHBhcmFtcy5vbkNvbXBsZXRlLnNob3VsZC5iZS5hLkZ1bmN0aW9uICYmXHJcbiAgICAgICAgcGFyYW1zLm9uQWJvcnQuc2hvdWxkLmJlLmEuRnVuY3Rpb25cclxuICAgICAgKTtcclxuXHJcbiAgICAgIHRoaXMuX2Zyb20gPSBwYXJhbXMuZnJvbTtcclxuICAgICAgdGhpcy5fdG8gPSBwYXJhbXMudG87XHJcblxyXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9mcm9tKVxyXG4gICAgICAuZm9yRWFjaCgoYXR0cikgPT4gXy5oYXModGhpcy5fdG8sIGF0dHIpID8gdGhpcy5fdG9bYXR0cl0gPSB0aGlzLl9mcm9tW2F0dHJdIDogdm9pZCAwKTtcclxuICAgICAgT2JqZWN0LmtleXModGhpcy5fdG8pXHJcbiAgICAgIC5mb3JFYWNoKChhdHRyKSA9PiBfLmhhcyh0aGlzLl9mcm9tLCBhdHRyKSA/IHRoaXMuX2Zyb21bYXR0cl0gPSB0aGlzLl90b1thdHRyXSA6IHZvaWQgMCk7XHJcblxyXG4gICAgICBpZihfLmlzUGxhaW5PYmplY3QocGFyYW1zLmVhc2luZykpIHtcclxuICAgICAgICBfLmRldigoKSA9PiBwYXJhbXMuZWFzaW5nLnR5cGUuc2hvdWxkLmJlLmEuU3RyaW5nICYmXHJcbiAgICAgICAgICBwYXJhbXMuZWFzaW5nLnBhcmFtcy5zaG91bGQuYmUuYW4uT2JqZWN0XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9lYXNpbmcgPSBSLkFuaW1hdGUuY3JlYXRlRWFzaW5nKHBhcmFtcy5lYXNpbmcudHlwZSwgcGFyYW1zLmVhc2luZy5wYXJhbXMpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2Vhc2luZyA9IFIuQW5pbWF0ZS5jcmVhdGVFYXNpbmcocGFyYW1zLmVhc2luZyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fZHVyYXRpb24gPSBwYXJhbXMuZHVyYXRpb247XHJcbiAgICAgIHRoaXMuX29uVGljayA9IHBhcmFtcy5vblRpY2s7XHJcbiAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBwYXJhbXMub25Db21wbGV0ZTtcclxuICAgICAgdGhpcy5fb25BYm9ydCA9IHBhcmFtcy5vbkFib3J0O1xyXG4gICAgICB0aGlzLl9pbnRlcnBvbGF0b3JzID0gXy5tYXBWYWx1ZXModGhpcy5fZnJvbSwgKGZyb21WYWwsIGF0dHIpID0+IFIuQW5pbWF0ZS5jcmVhdGVJbnRlcnBvbGF0b3IoZnJvbVZhbCwgdGhpcy5fdG9bYXR0cl0pKTtcclxuICAgICAgdGhpcy5fdGljayA9IFIuc2NvcGUodGhpcy5fdGljaywgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgIF8uZGV2KCgpID0+ICh0aGlzLl9iZWdpbiA9PT0gbnVsbCkuc2hvdWxkLmJlLm9rKTtcclxuICAgICAgdGhpcy5fYmVnaW4gPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLl9lbmQgPSB0aGlzLl9iZWdpbiArIHRoaXMuX2R1cmF0aW9uO1xyXG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVIYW5kbGUgPSByYWYodGhpcy5fdGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RpY2soKSB7XHJcbiAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICBpZihub3cgPiB0aGlzLl9lbmQpIHtcclxuICAgICAgICB0aGlzLl9vblRpY2sodGhpcy5fdG8sIHQpO1xyXG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgdCA9IChub3cgLSB0aGlzLl9iZWdpbikvKHRoaXMuX2VuZCAtIHRoaXMuX2JlZ2luKTtcclxuICAgICAgICB0aGlzLl9vblRpY2soXy5tYXBWYWx1ZXModGhpcy5faW50ZXJwb2xhdG9ycywgKGludGVycG9sYXRvcikgPT4gaW50ZXJwb2xhdG9yKHRoaXMuX2Vhc2luZyh0KSksIHQpKTtcclxuICAgICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVIYW5kbGUgPSByYWYodGhpcy5fdGljayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYm9ydCgpIHtcclxuICAgICAgaWYodGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSGFuZGxlKSB7XHJcbiAgICAgICAgcmFmLmNhbmNlbCh0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVIYW5kbGUpO1xyXG4gICAgICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUhhbmRsZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIF8uZXh0ZW5kKEludGVycG9sYXRpb25UaWNrZXIucHJvdG90eXBlLCAvKiogQGxlbmRzIFIuQW5pbWF0ZS5JbnRlcnBvbGF0aW9uVGlja2VyLnByb3RvdHlwZSAqLyB7XHJcbiAgICBfZnJvbTogbnVsbCxcclxuICAgIF90bzogbnVsbCxcclxuICAgIF9lYXNpbmc6IG51bGwsXHJcbiAgICBfZHVyYXRpb246IG51bGwsXHJcbiAgICBfb25UaWNrOiBudWxsLFxyXG4gICAgX29uQ29tcGxldGU6IG51bGwsXHJcbiAgICBfb25BYm9ydDogbnVsbCxcclxuICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVIYW5kbGU6IG51bGwsXHJcbiAgICBfYmVnaW46IG51bGwsXHJcbiAgICBfZW5kOiBudWxsLFxyXG4gICAgX2ludGVycG9sYXRvcnM6IG51bGwsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBJbnRlcnBvbGF0aW9uVGlja2VyO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=